\documentclass{article}
\usepackage{import}
\usepackage{amsmath}
\usepackage{float}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{setspace}
\usepackage{geometry}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{array}
\geometry{a4paper, portrait, margin=30mm, bmargin=30mm, tmargin=30mm}
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}

\makeatletter
\newcommand\subsubsubsection{\@startsection{paragraph}{4}{\z@}{-2.5ex\@plus -1ex \@minus -.25ex}{1.25ex \@plus .25ex}{\normalfont\normalsize\bfseries}}
\newcommand\subsubsubsubsection{\@startsection{subparagraph}{5}{\z@}{-2.5ex\@plus -1ex \@minus -.25ex}{1.25ex \@plus .25ex}{\normalfont\normalsize\bfseries}}
\makeatother


\begin{document}
\setstretch{1.5}
\include{titlepage.tex}

\tableofcontents
\newpage

\listfigurename
\newpage

\listtablename
\newpage



\section{Introduction}

\subsection{Context and Motivation}
% \noindent University life presents numerous challenges, 
% from navigating academic responsibilities to establishing meaningful connections. 
% This app is designed to serve as a supportive platform, 
% enabling students to better manage their university experience while 
% fostering a sense of community and enhancing overall engagement.
College life throws a lot of curveballs at students and those who run the show. At USTH, for example, juggling classes, making friends, and finding your way around campus can get pretty overwhelming. 
Traditional systems often feel clunky, with a lot of manual work, things scattered everywhere, and outdated information. This makes it tough for students to stay on top of things, find the resources they need, and connect with other students.

To overcome these challenges, we developed ULASNA – the University Life Assistant and Student Networking Application. ULASNA brings together some powerful tools like Spring Boot, Google Calendar, MapBox, and Moodle, along with a bit of machine learning magic.
This platform makes academic life smoother by giving students easy access to their schedules, course materials, and all the important campus info. But ULASNA isn't just about academics – it helps students connect with each other too. The "StudyBuddy" feature, powered by machine learning, matches students with similar interests and goals, making it easier to find study partners and build friendships.
We designed ULASNA with the user in mind, creating a user-friendly mobile app for Android devices. And we take data security seriously, using a robust PostgreSQL database and a secure VPN (Tailscale) to keep everything safe.

This report dives deep into the design and development of ULASNA, highlighting the challenges we faced along the way and how we overcame them. Ultimately, we believe ULASNA has the potential to significantly improve the college experience for both students and faculty\subsection{Process Flow}
This section outlines the comprehensive process flow of University Life Assistant and Student Networking Application,
detailing the progress from system construction to feature integration,
including authentication with Spring Boot, Google Calendar integration, MapBox integration, Moodle resource fetching, real-time notifications, and the StudyBuddy matching system with machine learning algorithms.
\subsubsection{System Construction}
This section details the process of building the system.
It covers the setup of hardware components, the configuration of software environment,
the creation of the application's software components, and initial testing to make sure everything works smoothly.
\subsubsubsection{Hardware Setup}
The hardware components required for the system include:
\begin{itemize}
    \item \textbf{Development Machines: }Computers used for developing and hosting the backend services and databases (Spring Boot and PostgreSQL).
    \item \textbf{User Devices: }Smartphones or Virtual Devices running the Android app to access features such as Google Calendar, MapBox maps, and Moodle resources.
    \item \textbf{Networking Equipment: }Tailscale VPN for secure and reliable communication between user devices and the backend server.
\end{itemize}

\subsubsubsection{Software Environment Configuration}
The hardware components required for the system include:
\begin{itemize}
    \item \textbf{Operating System: }Window was used for hosting the backend services and database, while Android was the main platform for the app.
    \item \textbf{Database: }PostgreSQL was installed and configured as the relational database management system to store user information, calendar events, location data, and StudyBuddy profiles.
    \item \textbf{Backend Framework: }Spring Boot was deployed to manage REST API endpoints and handle authentication, authorization, and data synchronization.
    \item \textbf{Mobile Development Tools: }Android Studio served as the primary IDE for developing the Android application, integrating Java and libraries such as Retrofit and MapBox SDK.
\end{itemize}

\subsubsubsection{Application Software}
The application software consists of several key modules:
\begin{itemize}
    \item \textbf{Authentication and Authorization Module:} Implements JWT-based authentication and Role-Based Access Control (RBAC) to manage access permissions for ADMIN and USER roles.
    \item \textbf{Google Calendar Integration Module:} Fetches event data from Google Calendar, detects changes, and delivers notifications to the user through the mobile application.
    \item \textbf{MapBox Integration Module:} Stores and serves latitude and longitude coordinates of campus locations to dynamically render maps within the application.
    \item \textbf{Moodle Resource Module:} Interacts with Moodle APIs to retrieve course-related resources such as slides, source code, and PDFs.
    \item \textbf{StudyBuddy Matching Module:}
    \begin{itemize}
        \item Collects user profile data (e.g., interests, personality).
        \item Utilizes a machine learning recommendation system to suggest suitable matches based on shared interests and compatibility.
        \item Incorporates a chat feature for text-based communication between matched users.
        \item Enables audio calls between users through the Linphone library, which provides SIP-based VoIP functionality for real-time communication.
    \end{itemize}
    \item \textbf{Notification System:} Facilitates real-time notifications for calendar event updates, and received call.
\end{itemize}

\subsubsubsection{Initial Testing}
Initial testing was performed to verify the functionality and integration of all components:

\begin{itemize}
    \item \textbf{Hardware Testing:} Verified the correct installation and operation of servers, development machines, and networking equipment, utilizing a Tailscale VPN for secure connections.
    \item \textbf{Software Testing:} Ensured proper configuration and performance of the operating system, PostgreSQL database, and Spring Boot services.
    \item \textbf{Integration Testing:} Validated the seamless interaction between backend APIs and mobile app features, including:
    \begin{itemize}
        \item Google Calendar synchronization.
        \item MapBox map rendering.
        \item Moodle resource retrieval.
        \item StudyBuddy matching functionality.
        \item Linphone-based audio calling capabilities.
    \end{itemize}
\end{itemize}
\subsubsection{Machine Learning Model Integration and Model Training}

\subsection{Project Objectives}
The primary objective of this project is to design, develop and implement an integrated system that enhances
university life and fosters student networking through advanced technological solutions.
The goal is to create a platform that seamlessly intergrates personal academic data, event annoucements, and campus resources.
By using advanced frameworks and APIs, together with recommendation system, we aim to simplify the administrative tasks, improve campus accessibility, 
and encourage more interaction among students.
This platform should be user-friendly and accessible through all devices, making it easier for students to experience campus life, 
stay informed, and connect with their peers. 

\subsection{Desired Outcomes}

\subsection{Structure of Thesis}
The thesis will be structured as follows:
\begin{itemize}
    \item \textbf{Part I: Introduction }
    \newline
    Provide a general introduction to the thesis, including an overview of the project, its objectives, and the scope of the work.
    \item \textbf{Part II: Requirement Analysis }
    \newline
    Lists all the tools, techniques, and system requirements used in the project. It includes
    both functional and non-functional requirements, as well as desired functionalities.
    \item \textbf{Part III: Methodologies }
    \newline
    System architecture, database design, and implementation details of various features, illustrated with sequence diagrams.
    \item \textbf{Part IV: AI Model Analysis and Training }
    \newline
    Analysis and training of AI models for recommend system for study buddy matchmaking, including datasets and model development, with (Model Name) integration.
    \item \textbf{Part V: Results and Discussions }
    \newline 
    Summarizes the implementations and achievements of the system. It reflects on how the
    objectives were met and provides a summary of the project's outcomes.
    \item \textbf{Part VI: Conclusion and Future Work }
    \newline
\end{itemize}


\subsection{Related works}

In this part we will cite some related works/papers that we used mainly for this 
project. We also summarize the content of these resources.


% \section{Theoretical Background}
\section{Requirement Analysis}
\subsection{System requirements}
\subsubsection{Functional Requirements}
\subsubsection{Non-functional Requirements}
\subsubsection{Desired Functionalities}

\subsection{Use Case}
\subsubsection{Use Cases Diagram}
    The below diagram is to demonstrate the interaction between users and system:
    % Figure
\subsubsection{Use Case Characteristics}
    The system in Figure above has two roles: \textbf{Admin} and \textbf{Student}:
    \begin{itemize}
        \item \textbf{Admin:} Admins have access to all students' functionalities. 
        Additionally, they can manage schedules, campus, resources and create and manage student accounts.
        \item \textbf{Student:}  Students can login, reset their password. They have permission to check their schedule, university campus and resources. Additionally, they can connect to other students, who share the same interests, subjects, hobbies,  by using StudyBuddy.
    \end{itemize}

\subsection{Use Case and Scenario Description}
    This section provides a detailed description of the various use cases and scenarios within the USTH Connect application. 
    Each use case outlines the interactions between students and the system, describing how the system responds to specific student actions.
\subsubsection{Use case: Authenticate}

    \textbf{Description:} Students can login and reset their passwords in case they forget them. Admin has to create accounts for students.

    \noindent \textbf{Pre-conditions:} Before this use case begins, students must ensure that all system packages are fully installed to avoid errors.

    \noindent \textbf{Post-conditions:}
    \begin{itemize}
        \item \textbf{Success:} Students can access the main screen.
        \item \textbf{Failure:} Not displaying the main screen, error message is shown in the system.
    \end{itemize}

    
    \begin{table}[H]
        \centering
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|m{3.5cm}|p{10cm}|} % Fixed column width for consistent alignment
            \hline
            \multicolumn{1}{|c|}{\textbf{Actor Action}} & \multicolumn{1}{c|}{\textbf{System Action}} \\ \hline
            \multirow{4}{*}{\centering \shortstack[c]{Login to the system \\ (User)}} 
            & 1. Students enter studentID and password given by Admin \\ \cline{2-2} 
            & 2. System verifies studentID and password against the stored database \\ \cline{2-2}
            & 3. If both studentID and password are correct, the system grants access to the student and displays the main screen \\ \cline{2-2}
            & 4. If it is incorrect, the system displays an error message and asks students to re-enter \\ \hline
            \multirow{5}{*}{\centering \shortstack[c]{Change Password \\ (User)}} 
            & 1. Student enters studentID and old password \\ \cline{2-2}
            & 2. System verifies studentID and password against the stored database \\ \cline{2-2}
            & 3. If the information entered is correct, students can change their password \\ \cline{2-2}
            & 4. System updates the new password in the database \\ \cline{2-2}
            & 5. Students enter the new password to login \\ \hline
        \end{tabular}
    \end{table}
    
    

\subsubsection{Use case: Student Schedule}
    \textbf{Description:} This use case enables students to view their academic timetable. The system sync schedule every 10 mins to make sure no daily event is missing.

    \noindent \textbf{Pre-conditions:} 
        \begin{itemize}
            \item Before this use case begins, students must be logged into the system.
            \item The system up-to-date course details: time, locations, lecturer.
        \end{itemize}
    \noindent \textbf{Post-conditions:}
    \begin{itemize}
        \item \textbf{Success:} 
        \begin{itemize}
            \item Students can see their daily events.
            \item System sends notification if there is a new class or a canceled class.
        \end{itemize}
        \item \textbf{Failure:} Not display the event daily and show error messages.
    \end{itemize}

    \begin{table}[H]
        \centering
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|m{3.5cm}|p{10cm}|} % Fixed column width for consistent alignment
            \hline
            \multicolumn{1}{|c|}{\textbf{Actor Action}} & \multicolumn{1}{c|}{\textbf{System Action}} \\ \hline
            \multirow{3}{*}{\centering \shortstack[c]{User click button \\ "Timetable"}} 
            & 1. The system shows a calendar \\ \cline{2-2} 
            & 2. Students can change the day, week, month format in the calendar \\ \cline{2-2}
            & 3. After choosing a day, students can see daily events \\ \hline
            \multirow{3}{*}{\centering \shortstack[c]{User click button \\ "Favorite Course"}} 
            & 1. The system shows a list of favorite courses which are added by Students \\ \cline{2-2}
            & 2. Students can see the timetable of their favorite course after clicking it \\ \cline{2-2}
            & 3. Un-click the favorite icon, the system will delete that course out of the list of favorite courses \\ \hline
            \multirow{3}{*}{\centering \shortstack[c]{User click button \\ "Course"}} 
            & 1. The system shows all the courses which match with the student’s major and year \\ \cline{2-2}
            & 2. Students can see the course class timetable after clicking the course \\ \cline{2-2}
            & 3. Click the favorite icon, the system will add that course to the list of favorite courses and show them in Favorite Course \\ \hline
        \end{tabular}
    \end{table}

\subsubsection{Use case: University Campus}
    \textbf{Description:} The system displays a list of campus buildings and their details. The system can locate each building in a list on a map.

    \noindent \textbf{Pre-conditions:} 
        \begin{itemize}
            \item Before this use case begins, students must be logged into the system.
            \item Building data must be fetched from the database.
        \end{itemize}
    \noindent \textbf{Post-conditions:}
    \begin{itemize}
        \item \textbf{Success:} 
        \begin{itemize}
            \item Students can search for buildings on campus and each details.
            \item System shows a map where the student and building are located.
        \end{itemize}
        \item \textbf{Failure:} The system displays an error message or map fails to load.
    \end{itemize}

    \begin{table}[H]
        \centering
        \renewcommand{\arraystretch}{2.5}
        \begin{tabular}{|m{3.5cm}|p{10cm}|} % Fixed column width for consistent alignment
            \hline
            \multicolumn{1}{|c|}{\textbf{Actor Action}} & \multicolumn{1}{c|}{\textbf{System Action}} \\ \hline
            \multirow{2}{*}{\centering \shortstack[c]{User click button \\ "Building"}} 
            & 1. The system shows a list of buildings which students study in \\ \cline{2-2} 
            & 2. After clicking a building, the system returns its details \\ \hline
            \multirow{1}{*}{\shortstack[c]{User click button \\ "Map"}} 
            & 1. System loads a map to locate your location and each building \\ \hline
        \end{tabular}
    \end{table}

\subsubsection{Use case: University Resource}
    \textbf{Description:} Students can access lectures, slides, exercises and homework from all bachelor’s programs, which the system displays.

    \noindent \textbf{Pre-conditions:} 
        \begin{itemize}
            \item Before this use case begins, students must be logged into the system.
            \item Lectures, slides, exes and homeworks must be fetched successfully.
        \end{itemize}
    \noindent \textbf{Post-conditions:}
    \begin{itemize}
        \item \textbf{Success:} Students can access and download all resources from all bachelor’s programs.
        \item \textbf{Failure:} The system displays an error message or resource fail to open or fail to load data.
    \end{itemize}

    \begin{table}[H]
        \centering
        \renewcommand{\arraystretch}{2.5}
        \begin{tabular}{|m{3.5cm}|p{10cm}|} % Fixed column width for consistent alignment
            \hline
            \multicolumn{1}{|c|}{\textbf{Actor Action}} & \multicolumn{1}{c|}{\textbf{System Action}} \\ \hline
            \multirow{2}{*}{\centering \shortstack[c]{User click button \\ "Show Resource"}} 
            & 1. The system displays a list of bachelor’s programs \\ \cline{2-2} 
            & 2. After choosing bachelor’s programs, the screen shows majors, then, the system shows the subject of the major and lectures, slides, … of a subject of major \\ \hline
        \end{tabular}
    \end{table}

\subsubsection{Use case: Student StudyBuddy}
    \textbf{Description:} The system allows students to connect and find each other students, who have the same things with the other. Students can view their profile, interest, ...

    \noindent \textbf{Pre-conditions:} 
        \begin{itemize}
            \item Before this use case begins, students must be logged into the system.
            \item The system must fetch successfully with other students’ profiles.
        \end{itemize}
    \noindent \textbf{Post-conditions:}
    \begin{itemize}
        \item The system fails to fetch student data.
        \item System fails to displayprofile of match recommendation.
        \item System display an error message.
    \end{itemize}

    \begin{table}[H]
        \centering
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|m{3.5cm}|p{10cm}|} % Fixed column width for consistent alignment
            \hline
            \multicolumn{1}{|c|}{\textbf{Actor Action}} & \multicolumn{1}{c|}{\textbf{System Action}} \\ \hline
            \multirow{4}{*}{\centering \shortstack[c]{User click button \\ "StudyBuddy"}} 
            & 1. The system displays a list of Students who are in the list of recommendations \\ \cline{2-2} 
            & 2. After clicking the “Yes” button, add that Student to Chat and Contact \\ \cline{2-2}
            & 3. After clicking the “No” button, remove that Student from the list \\ \cline{2-2}
            & 4. After clicking the “Refresh” button, the system will refresh the list of recommended students \\ \hline
            \multirow{2}{*}{\centering \shortstack[c]{User click button \\ "Message"}} 
            & 1. The system displays students who Students have matched with \\ \cline{2-2}
            & 2. After clicking the box chat, start a chat with another student \\ \hline
            \multirow{2}{*}{\centering \shortstack[c]{User click button \\ "Contact"}} 
            & 1. The system displays students who Students have matched with \\ \cline{2-2}
            & 2. After clicking the contact, start an audio call with another student \\ \hline
            \multirow{2}{*}{\centering \shortstack[c]{User click button \\ "Profile"}} 
            & 1. The system fetches the StudyBuddy profile of Student from the database \\ \cline{2-2}
            & 2. After clicking “Edit Profile”, Students can change information about their StudyBuddy profile after the system is verified \\ \hline
        \end{tabular}
    \end{table}


% \subsection{Mobile Application Background}
% In this part we will introduce about the standard mobile application framework.
% \subsubsection{Mobile Application Development}
% \subsubsubsection{Android Development Frameworks}
% For Android application development, Android Studio is considered as the primary Integrated Development Environment (IDE) for app development.
% According to Google, it is recommended as an ideal IDE for Android development and have a variety of powerful features including:
% \begin{itemize}
%     \item \textbf{XML (Extensible Markup Language) Layout Desgin:} Android Studio offers a visual layout editor for designing user interface (UI). 
%     XML seperates the UI design from business logic, enabling multiple designers and developers to work independently. XML layouts follow a tree structure where each elements will represent a UI component.
%     Each elements will have multiple attributes (layout, styles, ID,...) and layout types (ConstraintLayout, LinearLayout,...) to help implement an eye-catching and simple UI.
%     Moreover, by binding directly the layout components to corresponding properties in the code or transforming XML into runtime object using Layout Inflation.
%     \item \textbf{Gradle Build System: } In Android Studio, Gradle will take responsibility for automatic project building and management. 
%     It will handle requirement dependencies, compiled resources, and the most important is generating
%     \item 
% \end{itemize} 
% \subsubsubsection{UI/UX Design Principles}

% \subsubsubsection{Google Calendar Display}

% \subsubsubsection{MapBox Display}

% \subsubsubsection{Moodle Resource Display}

% \subsubsubsection{Real-Time Notifications}

% \subsubsubsection{Student Matching System}

% \subsubsection{Backend System}
% \subsubsubsection{Spring Boot Framework}

% \subsubsubsection{JWT and RBAC}

% \subsubsubsection{Database Management}

% \subsubsubsection{Google Calendar Integration}

% \subsubsubsection{MapBox Integration}

% \subsubsubsection{Moodle Integration}

% \subsubsubsection{Tailscale VPN}

% \subsubsubsection{Spring Boot Framework}
% \subsection{Machine Learning Background}
% In this part we will explain the theory and mathematical bases for
% the clustering algorithm that we used in this project.
% \begin{itemize} 
%     \item Machine Learning Workflow: describe a standard workflow for a clustering
%     algorithm.
%     \item Data encoding method: One Hot Encoding, Word Embedding TD-IDF
%     \item Dimensionality reduction
%     \item Clustering algorithm: K-mode (? can we use more algorithm for this part)
%     \item Evaluation Metrics: Silhouette score, Davies-Bouldin index

% \end{itemize}

\section{Methodologies}
\subsection{System Architecture}
\subsection{Database Design}
\subsection{Use Case Implementation}
\include{analysis_call_message}
\include{communication_handling}
% \section{Material and Methodology}
% \subsection{Material}
% \subsubsection{Data Sources}
% In this part we will explain about the process of gathering data
% from scratch, by doing survey.

% \subsubsection{Experimental Setup}
% Still consider what to write for this part. Maybe unecessary.

% \subsection{Methodology}

% This part should describe details the implementation process
% of both mobile development app and machine learning

% Structure: Data describe $\rightarrow$ Mobile app framework $\leftarrow$ Machine Learning Workflow (integrated inside app) $\rightarrow$ Demo for each feature.

% \subsubsection{Mobile App Framework}

% \subsubsection{Machine Learning Workflow}
% In this part, we will describe more detail about:
% \subsubsubsection{Data Preprocessing}

% \begin{itemize}
%     \item describe the data structure
%     \item how and why we using encoding method
%     \item how we split data for training and testing
% \end{itemize}
% \subsubsubsection{Model Configuration and Training}
% In this part we will descrbie detailed about 
% \begin{itemize}
%     \item Model configuration: describe models that we used and why we choose it.
%     \item Model training: process of training the model
% \end{itemize}

% \subsubsubsection{Model Evaluation}
% In this part, we will describe:
% \begin{itemize}
%     \item Attribute we choose to evaluate model performance
%     \item Evaluation metrics: Silhouette score, Davies-Bouldin index
% \end{itemize}

\section{AI Model Analysis and Training}
\subsection{One-Hot Encode}
One-hot Encoding is a data preprocessing technique that transforms a single categorical variable with n distinct categories 
into n separate columns. Each column is represented by one number 0 or 1, where the value 1 presents the presence of that category 
and the value 0 indicates its absence. This method helps machine learning models, which typically require numerical input, 
better understand and handle the data.

\subsection{Dissimilarity Measure}
The dissimilarity measure between two categorical objects X and Y (with m attributes) can be defined by the total mismatches of their corresponding categorical attributes. The two objects X and Y are considered to be more similar when the value of a mismatched number gets smaller.
        $$d(X,Y) = \sum_{i=1}^{m}\delta{(x_i,y_i)}$$ where $$\delta{(x_i,y_i)} = \left\{\begin{array}{ll} 0 & (x_i = y_i) \\
        1 & (x_i \neq y_i)\end{array}\right.$$

\subsection{K-Mode Algorithm}
\begin{enumerate}
    \item Randomly select K initial modes as K clusters.
    
    \item Assign objects to the cluster whose mode is closest to it (which has the smallest dissimilarity). Update the cluster’s mode by selecting the highest frequency of each category within the cluster. If there are more than 2 categories of an attribute that have the same highest frequency, we randomly select one of them to serve as mode.
    
    \item Recalculate the dissimilarity of objects with the current modes and reassign the object to the cluster with closest mode and update the new modes for clusters.
    
    \item Repeat Step 2 and 3 until every cluster has no changes after testing the whole dataset.
\end{enumerate}

\section{Results and Discussion}
\subsection{Results}

\subsubsection{Mobile App Results}
In this part we can have the demo for each feature of the app.

\subsubsection{Machine Learning Results}
In this part we will show the result of the clustering algorithm, using the evaluation 
metrics that we mentioned in the previous section.

\subsection{Discussion}

\section{Conclusion {\&} Future Work}

\subsection{Conclusion}
\subsection{Future Work}



\end{document}

